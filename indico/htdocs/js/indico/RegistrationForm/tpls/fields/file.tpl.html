<div ng-switch="userdata[getName(field.input)] !== undefined">
    <div ng-switch-default>
        <ng-form name="nestedForm">
            <input type="file" nd-valid-file
                name="{{ getName(field.input) }}"
                ng-model="input"
                ng-required="field.mandatory"
                ng-class="{hasError: validationStarted && nestedForm.$invalid}"/>
        </div>
    </ng-form>

    <div ng-switch-when="true">
        <a ng-href="{{userdata[getName(field.input)].path}}" class="file-link">
            {{userdata[getName(field.input)].name}}
        </a>
        <a href="" class="remove-file"
            title="{{ 'Remove attachment' | i18n }}"
            alt="{{ 'Remove attachment' | i18n }}"
            ng-click="removeAttachment()"></a>
        <input type="hidden" name="{{ getName(field.input) }}"
            value="{{userdata[getName(field.input)].path}}">
    </div>
</div>
