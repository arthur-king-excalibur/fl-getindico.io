<div ng-controller="BillableCtrl">
    <ng-form name="nestedForm">
        <input type="number"
            ng-model="numberInput"
            ng-init="numberInput = getValue(fieldName)"
            id="{{ fieldName }}"
            name="{{ fieldName }}"
            size="{{ field.values.length }}"
            min="{{ field.values.minValue }}"
            ng-required="isRequired(field)"
            ng-disabled="paymentBlocked(field, userdata)"
            ng-change="updateSubtotal(numberInput)"
            ng-class="{hasError: validationStarted && nestedForm.$invalid}"/>
    </ng-form>

    <span ng-if="isBillable(field)">
        <span class="regFormPrice">{{ field.price }}</span>
        <nd-currency currency="currency"></nd-currency>
        <span class="regFormSubtotal">{{ 'Total' | i18n }}:</span>
        <span id="subtotal">
            {{ subtotal }}
        </span>
        <nd-currency currency="currency"></nd-currency>
    </span>
</div>
