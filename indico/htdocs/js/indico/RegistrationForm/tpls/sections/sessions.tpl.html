<div ng-switch="section.type">
    <table ng-switch-when="2priorities" ng-init="input = userdata.sessionList[0].id">
        <tr>
            <td>
                <span>{{ 'Select your preferred choice' | i18n }}</span>
                <span class="regFormMandatoryField">*</span>
            </td>
            <td>
                <ng-form name="nestedForm">
                    <select id="session1" name="session1" required
                        ng-model="input"
                        ng-class="{hasError: validationStarted && nestedForm.$invalid}">
                        <option value="">{{ '--Select a session--' | i18n }}</option>
                        <option ng-repeat="item in section.items"
                            value="{{ item.id }}"
                            ng-selected="item.id == userdata.sessionList[0].id">
                            {{ item.caption }}
                        </option>
                    </select>
                </ng-form>
            </td>
        </tr>
        <tr>
            <td>
                <span>{{ 'Select your second choice' | i18n }}</span>
                <span class="italic">(Optional)</span>
            </td>
            <td>
                <select id="session2" name="session2">
                    <option value="">{{ '--Select a session--' | i18n }}</option>
                    <option ng-repeat="item in section.items | filter:{id: '!'+(input||' ')}"
                        value="{{ item.id }}"
                        ng-selected="item.id == userdata.sessionList[1].id">
                        {{ item.caption }}
                    </option>
                </select>
            </td>
        </tr>
    </table>

    <table ng-switch-when="all">
        <tr ng-if="section.type == 'all'">
            <td colspan="3">
                <div ng-repeat="item in section.items">
                    <input type="checkbox"
                        name="sessions"
                        value="{{ item.id }}"
                        ng-checked="isSelected(item.id)"/>
                    {{ item.caption }}
                    <span ng-show="item.billable" class="regFormPrice">{{ item.price }}</span>
                    <span ng-show="item.billable" class="regFormCurrency">{{ currency }}</span>
                </div>
            <td>
        </tr>
    </table>
</div>
