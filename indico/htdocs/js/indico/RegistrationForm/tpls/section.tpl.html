<div id="{{ section.id }}" class="regform-section">
    <div ng-if="editMode" class="section-sortable-handle"></div>
    <div ng-switch="editMode" class="section-header">
        <div ng-switch-default>
            <div class="regform-section-title">
                {{ section.title }}
            </div>
            <div class="regform-section-description">
                {{ section.description }}
            </div>
        </div>
        <div ng-switch-when="true">
            <span nd-section-toolbar
                section="section"
                buttons="buttons"
                dialogs="dialogs"
                state="state"
                api="sectionApi">
            </span>
            <div class="regform-section-title"
                ng-model="section.title"
                contenteditable>
            </div>
            <div class="regform-section-description"
                ng-model="section.description"
                contenteditable>
            </div>
        </div>
    </div>

    <div ng-switch="section.id" class="section-content">
        <div ng-switch-default
            ng-include="getTpl('sections/general.tpl.html')">
        </div>
        <div ng-switch-when="accommodation"
            ng-include="getTpl('sections/accomodation.tpl.html')">
        </div>
        <div ng-switch-when="furtherInformation"
            ng-include="getTpl('sections/furtherinfo.tpl.html')">
        </div>
        <div ng-switch-when="reasonParticipation"
            ng-include="getTpl('sections/reason.tpl.html')">
        </div>
        <div ng-switch-when="sessions"
            ng-include="getTpl('sections/sessions.tpl.html')">
        </div>
        <div ng-switch-when="socialEvents"
            ng-include="getTpl('sections/socialevents.tpl.html')">
        </div>
    </div>

    <nd-dialog nd-section-dialog
        ng-if="buttons.config && editMode"
        heading="Settings: {{ section.title }}"
        show="dialogs.config.open"
        data="dialogs.config"
        async-data="{{ section }}"
        ok-button="{{ 'Save' | i18n }}"
        cancel-button="{{ 'Cancel' | i18n }}"
        ok-callback="dialogs.config.actions.onOk(dialogScope)"
        cancel-callback="dialogs.config.actions.onCancel(dialogScope)">
    </nd-dialog>
</div>
